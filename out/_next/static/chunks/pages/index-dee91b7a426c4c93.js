(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(8408)}])},8408:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return S}});var t=n(7568),a=n(1799),r=n(655),l=n(5893),i=n(7294),c=n(719),o=(n(2821),n(3850));n(7583);o.ZP.use([o.VP]);var u=function(e,s){var n=e.courses,t=[],a=["red","orange,","amber","yellow","lime","green","emerald","teal","cyan","sky","blue","indigo","violet","purple","fuchsia","pink","rose"];return n.map((function(e){var s="Course h-full w-80 rounded-xl opacity-80";s+=" bg-"+a[Math.round(Math.random()*a.length)]+"-100 begin-"+e.begin+" end-"+e.end,t.push((0,l.jsxs)("div",{className:s,children:[(0,l.jsxs)("h3",{className:"",children:[" ",e.name," "]}),(0,l.jsxs)("h4",{className:"text-sm",children:[" ",e.teachers," "]}),(0,l.jsxs)("h4",{className:"text-sm",children:[" ",e.classes," "]}),(0,l.jsxs)("h4",{className:"text-sm",children:[" ",e.place," "]})]},e.begin))})),(0,l.jsx)(c.o5,{className:e.day,children:(0,l.jsx)("div",{className:"DayContainer w-full h-full text-lg flex justify-center items-center",children:(0,l.jsxs)("div",{className:"DayAbsoluteContainer absolute left--1/4 top-0 backdrop-blur-sm w-80 h-full rounded-3xl",children:[(0,l.jsx)("div",{className:"DayBackground rounded-3xl w-full h-full bg-white bg- opacity-70"}),(0,l.jsxs)("div",{className:"DayContent h-9/10 absolute top-2 flex justify-start",children:[(0,l.jsxs)("div",{className:"Hours inline-grid w-12 h-full",children:[(0,l.jsx)("h4",{className:"Hour",children:"8h"},"8h"),(0,l.jsx)("h4",{className:"Hour",children:"9h"},"9h"),(0,l.jsx)("h4",{className:"Hour",children:"10h"},"10h"),(0,l.jsx)("h4",{className:"Hour",children:"11h"},"11h"),(0,l.jsx)("h4",{className:"Hour",children:"12h"},"12h"),(0,l.jsx)("h4",{className:"Hour",children:"13h"},"13h"),(0,l.jsx)("h4",{className:"Hour",children:"14h"},"14h"),(0,l.jsx)("h4",{className:"Hour",children:"15h"},"15h"),(0,l.jsx)("h4",{className:"Hour",children:"16h"},"16h"),(0,l.jsx)("h4",{className:"Hour",children:"17h"},"17h"),(0,l.jsx)("h4",{className:"Hour",children:"18h"},"18h"),(0,l.jsx)("h4",{className:"Hour",children:"19h"},"19h"),(0,l.jsx)("h4",{className:"Hour",children:"20h"},"20h")]}),(0,l.jsx)("div",{className:"CoursesContainer inline-grid grid-rows-40",children:t.map((function(e){return e}))})]}),(0,l.jsxs)("div",{className:"DayName absolute flex justify-center items-center flex-col text-center w-full bottom-0 h-1/7",children:[(0,l.jsx)("h2",{className:"text-4xl",children:e.day.toUpperCase()}),(0,l.jsx)("h4",{className:"text-sm",children:e.date})]})]})})},e.day)};function h(e){(0,i.useEffect)((function(){}),[]);var s=[];e.weekData.map((function(e){e.day,s.push(u(e))}));var n=-1,t=function(e){if(!0!==e.destroyed)for(var s=e.size,t=e.snapGrid,a=-e.translate,r=-1===(n=a)?0:Math.abs(a-n),l=e.slides.length,i=0;i<l;i++){var c=-(t[i]-a)/s;c=(c=c<-1?-1:c)>1?1:c;var o=2-Math.round(Math.abs(c)),u=.8+.2*(1-Math.abs(c)),h=30*c;e.slides[i].style.z_index=o,e.slides[i].style.transform="scale("+u+") translateX("+h+"%)",e.slides[i].style.transitionDuration=r>=10?"1000ms":"0ms"}};return(0,l.jsx)(c.tq,{className:"WeekSchedule w-full h-full mb-6",enabled:!0,direction:"horizontal",spaceBetween:0,centeredSlides:!0,cssMode:!1,modules:[o.tl],slidesPerView:1,speed:1e3,touchRatio:1.5,navigation:!1,loop:!1,autoplay:!1,onTransitionStart:function(e){for(var s=0;s<e.slides.length;s++)e.slides[s].style.transitionDuration="1000ms"},onInit:function(e){e.slides[index].style.transitionProperty="transform",e.slides[index].style.transitionDuration="0ms",t(e);var s=new MutationObserver((function(s){t(e)})),n=document.getElementsByClassName("swiper-wrapper");s.observe(n[0],{attributes:!0,attributeFilter:["style"]})},pagination:{clickable:!0},children:s.map((function(e){return e}))})}var d=n(2822),f=n(6257),m=n(5503),x=(n(5762),(0,m.ZF)({apiKey:"AIzaSyAH1WvRPNDwIOwuS7fRodexNiJW6k-uvPs",authDomain:"ensea-web-schedule.firebaseapp.com",projectId:"ensea-web-schedule",storageBucket:"ensea-web-schedule.appspot.com",messagingSenderId:"199059616108",appId:"1:199059616108:web:02eab45e13ac597e638349",measurementId:"G-DFMX68CNV4"})),p=(0,f.ad)(x),j=(0,f.hJ)(p,"schedules"),v=(function(){var e=(0,t.Z)((function(e){var s;return(0,r.__generator)(this,(function(n){return s=(0,f.JU)(j,"collection","document"),[2,(0,f.pl)(s,{schedule:e})]}))}))}(),function(){var e=(0,t.Z)((function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,(0,f.PL)(docRef).then((function(e){return e}))];case 1:return e.sent(),[2]}}))}))}(),[]);var N=n(9367),w=n(9008),b=n.n(w),g=((0,f.hJ)(p,"sessions"),(0,d.Z)({}));function y(e){var s=e.views;e.lastSchedule;console.log("you have visited this website : ",s);var n=(0,i.useState)(!1),a=n[0],c=n[1],o=function(){var e=(0,t.Z)((function(){return(0,r.__generator)(this,(function(e){switch(e.label){case 0:return[4,fetch("/api/socket")];case 1:return e.sent(),(0,N.ZP)().on("connect",(function(){console.log("connected")})),[2]}}))}));return function(){return e.apply(this,arguments)}}();if((0,i.useEffect)((function(){c(!0),o()}),[]),!a)return null;var u=v;return(0,l.jsxs)("div",{className:"App",children:[(0,l.jsx)("div",{className:"ENSEABackground background bg-cover bg-center h-screen w-screen transition"}),(0,l.jsxs)("header",{className:"AppContainer text-zinc-800 w-full h-full App-header -translate-x-1/2 absolute left-1/2 top-0",children:[(0,l.jsx)("div",{className:"Logo rounded-full mx-auto my-4 w-20 h-20 shadow-xl",alt:""}),(0,l.jsx)("div",{className:"SelectionsContainer mx-auto font backdrop-blur-sm w-3/4 h-20 flex-col align-center justify-center rounded-xl",children:(0,l.jsxs)("div",{className:"Selections text-2xl w-full h-full bg-white rounded-xl opacity-75",children:[(0,l.jsx)("div",{className:"ClasseSelection h-1/2 justify-center align-center text-center",children:(0,l.jsx)("h4",{children:"1G1 TD3"})}),(0,l.jsx)("hr",{}),(0,l.jsx)("div",{className:"WeekSelection h-1/2 justify-center align-center text-center",children:(0,l.jsx)("h4",{children:"Semaine 9"})})]})}),(0,l.jsx)("div",{className:"WeekScheduleContainer my-1/20 w-full h-3/4",children:(0,l.jsx)(h,{weekData:u})})]})]})}function S(e){return(0,l.jsxs)(i.StrictMode,{children:[(0,l.jsxs)(b(),{children:[(0,l.jsx)("title",{children:"Ensea Web Schedule"}),(0,l.jsx)("meta",{property:"og:title",content:"Ensea Web Schedule"},"title")]}),(0,l.jsx)(b(),{children:(0,l.jsx)("meta",{property:"og:title",content:"EWS2"},"title")}),(0,l.jsx)(y,(0,a.Z)({},e))]})}S.getInitialProps=function(){var e=(0,t.Z)((function(e){var s,n,t;return(0,r.__generator)(this,(function(a){switch(a.label){case 0:return s=e.req,n=e.res,[4,g(s,n)];case 1:return(t=a.sent()).views=t.views?t.views+1:1,t.lastSchedule=t.lastSchedule?t.lastSchedule:"1G1 TP6",[2,{views:t.views,lastSchedule:t.lastSchedule}]}}))}));return function(s){return e.apply(this,arguments)}}()}},function(e){e.O(0,[16,440,774,888,179],(function(){return s=5557,e(e.s=s);var s}));var s=e.O();_N_E=s}]);